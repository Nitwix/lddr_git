<!DOCTYPE html>

<html>
<head>
    <title>Ex 4</title>
    <style>
        canvas{
            position: absolute;
            top:80px;
            left: 300px;
            background-color: rgba(100,100,100,0.3); }
        #resultats{
            font-size: 1.2em;
            border: 1px solid black;
            width:160px;
            height: 50px;
        }
        #infos{
            font-size: 1.2em;
            border: 1px solid black;
            width:160px;
            height: 80px;
        }
    </style>  
    <script>
        var ctx,w,h
        var listeMatchs=[0]
        listeMatchs.push({nom:'F',j1:'Djokovic',j2:'Murray',res1:[6,7,7],res2:[1,5,6],win:'Djokovic'})
        listeMatchs.push({nom:'D1',j1:'Djokovic',j2:'Federer',res1:[6,6,3,6],res2:[1,2,6,3],win:'Djokovic'})
        listeMatchs.push({nom:'D2',j1:'Raonic',j2:'Murray',res1:[6,5,7,4,2],res2:[6,7,6,6,6],win:'Murray'})
        listeMatchs.push({nom:'Q1',j1:'Djokovic',j2:'Nishikori',res1:[6,6,6],res2:[3,2,4],win:'Djokovic'})
        listeMatchs.push({nom:'Q2',j1:'Federer',j2:'Berdych',res1:[7,6,6],res2:[6,2,4],win:'Federer'})
        listeMatchs.push({nom:'Q3',j1:'Monfils',j2:'Raonic',res1:[3,6,3,4],res2:[6,3,6,6],win:'Raonic'})
        listeMatchs.push({nom:'Q4',j1:'Ferrer',j2:'Murray',res1:[3,7,2,3],res2:[6,6,6,6],win:'Murray'})

        listeEti=[0,new Eti(500,150),new Eti(250,50),new Eti(250,250),new Eti(0,0),new Eti(0,100),new Eti(0,200),new Eti(0,300)]
        
        function affiche(ex,ey){
            cx=ex-document.getElementById('monCanvas').offsetLeft
            cy=ey-document.getElementById('monCanvas').offsetTop
            // compléter
        }  
        
        function init(){
            ctx=document.getElementById('monCanvas').getContext('2d')
            w=document.getElementById('monCanvas').width
            h=document.getElementById('monCanvas').height
            ctx.clearRect(0,0,w,h)
            for (k=1;k<=7;k++) {
                listeEti[k].bord()
                listeEti[k].texte(listeMatchs[k].nom+" : " + listeMatchs[k].j1 +" - " + listeMatchs[k].j2)
            }
            traceSegments()
        }
            
        function segment(x1,y1,x2,y2){
            // compléter
        }
        
        function traceSegments() {
            segment(200,25,250,75)
            segment(200,125,250,75)
            segment(200,225,250,275)
            segment(200,325,250,275)
            segment(450,75,500,175)
            segment(450,275,500,175)
        }

        
        function afficheResultat(k){
            // à compléter
        }
        
        function informations(joueur){
            // à compléter
        }

        function Eti(x,y){
            this.x=x
            this.y=y
            this.texte=function(txt){
                ctx.font='17px Cambria'
                ctx.fillStyle='black'
                ctx.fillText(txt,this.x+5,this.y+30)
            }
            this.bord=function(){
                ctx.strokeRect(this.x,this.y,200,50)
            }
            this.plein=function(){
                ctx.fillStyle='rgba(0,0,100,0.5)'
                ctx.fillRect(this.x,this.y,200,50)
            }
            this.isIn=function(cx,cy){
                return // à completer
            }
        }
</script>
</head>

<body onload='init();' onclick="affiche(event.clientX,event.clientY)">
<h1> TENNIS: Quarts, demis et finale</h1>
<canvas id="monCanvas" width="700" height="350"></canvas>
<strong>RESULTAT DU MATCH CHOISI </strong>
<div id="resultats"> </div>
</br>
</br>
<strong>CHOISIR UN JOUEUR : </strong>
<select onchange="informations(this.value);">
    <option selected="selected">...</option>
    <option>Djokovic</option>
    <option>Murray</option>
    <option>Federer</option>
    <option>Raonic</option>
    <option>Nishikori</option>
    <option>Berdych</option>
    <option>Monfils</option>
    <option>Ferrer</option>
</select>
<div id="infos">

</div>    
</body>
</html>
